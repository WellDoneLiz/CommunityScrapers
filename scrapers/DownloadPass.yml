name: DownloadPass

sceneByURL:
  - action: scrapeXPath
    url:
      - downloadpass.com/scenes
      - heatwavepass.com/scenes
    scraper: sceneScraper

xPathScrapers:
  sceneScraper:
    common:
      $sceneWrapper: //div[@id="player_page"]
      $performersWrapper: //div[@id="player_page"]//div[contains(@class, "starItem")]
    scene:
      Title: //div[@id="player_page"]/h1[@class="title"]
      Details: //meta[@name="description"]/@content
      URL: //link[@rel="canonical"]/@href
      Date:
        selector: //div[@id="info_container"]//span[contains(text(),"Added")]/parent::p
        postProcess:
          - replace:
            - regex: Added
          - parseDate: January 2, 2006
      Image:
        selector: //div[@id="player_page"]//div[@id="promo-shots"]/div[1]/@style
        postProcess:
          - replace:
            - regex: /images/
              with: /sc/
            - regex: /crop/\d+x\d+
            - regex: ".+(images\\.downloadpass\\.com.+)(\\.jpg)?\\).+"
              with: https://$1
      Studio:
        Name:
          selector: //div[@id="right"]/div[contains(@class,"dvd")]/h4/a/@href
          postProcess:
            - replace:
              - regex: (.+)
                with: https://www.downloadpass.com$1 
            - subScraper: //div[@id="content"]//div[contains(@class, "dvd-info")]//li/span[contains(text(), "Studio")]/parent::li/a
      Movies:
        Name: //div[@id="info_container"]//span[contains(text(),"DVD Title")]/parent::p/a
        URL: 
          selector: //div[@id="right"]/div[contains(@class, "dvd")]/h4/a/@href
          postProcess:
            - replace:
              - regex: (.+)
                with: https://www.downloadpass.com$1
      Tags: 
        Name: //div[@id="info_container"]//span[contains(text(),"Tags")]/parent::p/a
      Performers: 
        Name: $performersWrapper/div[contains(@class, "name")]/a
        URLs: 
          selector: $performersWrapper/div[contains(@class, "name")]/a/@href
          postProcess:
            - replace:
              - regex: (.+)
                with: https://www.downloadpass.com$1

# Last Updated November 20, 2024